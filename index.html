<html>
  <head>
  
	<title>d3.js</title>

  <script type="text/javascript" src="d3/d3.v2.js">
  </script>
  
  <script type="text/javascript" src="./delaunay.js">
  </script>
		
  <link href="./colorbrewer.css" rel="stylesheet" type="text/css">
  <link href="./voronoi.css" rel="stylesheet" type="text/css">
  		
	</head>


	<body>
	
	<h1 id="voronoi_diagram">Voronoi Tesselation</h1>
	
	<div class="gallery" id="chart"></div>

  

	<div>
	Border calculation behavior:
	<select id="borderbox" onchange="border_change()">
	<option value="norm">Normal</option>
	<option value="push">Border Push</option>
	<option value="pin">Border Pin</option>
	</select>

	<form oninput="x.value=parseInt(a.value)">
	Number of points:
	10
	
  <input id="pointslider" type="range" min="10" max="1000" name="a" value="50" onchange="pointslider_change()"/>
  1000
  <br>
  <output name="x" for="a" value="50"></output>
  </form>
	</div>
	
	<div>
	Region clustering:
	<select id="densitybox" onchange="density_change()">
	<option value="constant">Constant</option>
	<option value="0distance">Distance from (0,0)</option>
	</select>

 	<div id="buttons">
	<button id="centroid_step">One Centroid Step</button>
	<button id="centroid_anim">Start/Stop Centroid Animation</button>
	<button id="generate">Generate New Points</button>
	<button id="reset">Undo Centroidal</button>
	<button id="delaunay">Show/Hide Delaunay Triangulatron</button>
  </div>
	
	<script type="text/javascript" src="./voronoi.js">
	</script>
	
  <script type="text/javascript" src="./cvt.js">
  </script>
	
	<script type="text/javascript">
	// the slider
  function pointslider_change () {
    n = document.getElementById('pointslider').value;
    generate();
    draw();
  }
	</script>

  <script type="text/javascript">
  function border_change() {
    pinned = 0;
    if (document.getElementById('borderbox').value == "norm") {
      if (is_run) {
        is_run = false;
        clearInterval(animation);
      }
      document.getElementById("reset").click();
      border_type = "norm";
    }
    else if (document.getElementById('borderbox').value == "push") {
      if (is_run) {
        is_run = false;
        clearInterval(animation);
      }
      document.getElementById("reset").click();
      border_type = "push";
    }
    else {
      if (is_run) {
        is_run = false;
        clearInterval(animation);
      }
      document.getElementById("reset").click();
      border_type = "pin";
    }
  }
  </script>
  
  <script type="text/javascript">
  function density_change() {
    if (document.getElementById('densitybox').value == "constant") {
      density = "constant";
    }
    else if (document.getElementById('densitybox').value == "0distance") {
      density = "0distance";
    }
  }
  </script>

	<div id="fun">
	<p>In a Voronoi tesselation, each region corresponds to the set of points closest
	to the a distinguished point (circle) inside the region. The initial set of 
	distinguished points is chosen at random. </p>
	
	<p>Colors by <a href="http://colorbrewer.org/">Cynthia Brewer</a>. Voronoi 
	design commonly attributed to 
	<a href="http://en.wikipedia.org/wiki/Lejeune_Dirichlet">Lejeune Dirichlet</a> 
	and <a href="http://en.wikipedia.org/wiki/Georgy_Voronoy">Georgy Voronoy</a>. 
	Voronoi algorithm by <a href="http://ect.bell-labs.com/who/sjf/">Steven Fortune</a>; 
	implementation based on work by 
	<a href="http://blog.thejit.org/2010/02/12/voronoi-tessellation/">Nicolas Garcia Belmonte</a>. 
	Mouseover interaction inspired by 
	<a href="http://www.raymondhill.net/blog/?p=9">Raymond Hill</a>.</p>
	
	<p>Centroidal Voronoi features implemented by Dmitry Shemetov.</p>
	</div>
	
	</body>
</html>
